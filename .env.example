# Shared runtime (optional defaults)
LOG_LEVEL=INFO
RUNTIME_ENV=local

# Queue transport (optional defaults)
REDIS_URL=redis://redis:6379/0
REDIS_QUEUE_NAME=jobs.default
REDIS_KEY_PREFIX=jobs
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
REDIS_SOCKET_TIMEOUT=5.0

# Postgres (required in production; optional defaults for local compose)
POSTGRES_URL=postgresql://postgres:postgres@postgres:5432/workflows
POSTGRES_DB=workflows
POSTGRES_USER=postgres
# Change in production
POSTGRES_PASSWORD=postgres
POSTGRES_HOST_BIND=127.0.0.1
# Optional: expose postgres on host for local debugging
POSTGRES_PORT=5432

# Job retry behavior (optional)
JOB_MAX_ATTEMPTS=8
JOB_RETRY_BASE_SECONDS=5
JOB_RETRY_MAX_SECONDS=300
JOB_TIMEOUT_SECONDS=600
JOB_RESULT_TTL_SECONDS=3600

# Internal transfer storage (optional defaults for local compose)
MINIO_ENDPOINT=http://minio:9000
MINIO_ROOT_USER=internal
# Change in production
MINIO_ROOT_PASSWORD=change-me
MINIO_INTERNAL_BUCKET=internal-transfers
MINIO_HOST_BIND=127.0.0.1
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# API (optional defaults; API_SHARED_SECRET required to accept ingest calls)
WEBHOOK_INGEST_HOST=0.0.0.0
WEBHOOK_INGEST_PORT=8090
# Required: ingest requests are rejected when unset
API_SHARED_SECRET=

# Worker / consumer (optional defaults)
WORKER_NAME=integrations-worker
WORKER_QUEUE_NAMES=jobs.default
WORKER_BURST=false
CRM_LINKEDIN_FIELD=cLinkedInUrl
MAX_ATTACHMENTS_PER_CONTACT=3
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=pdf,doc,docx,txt
RESUME_KEYWORDS=resume,cv,curriculum
OPENAI_API_KEY=
# For OpenRouter, set OPENAI_BASE_URL=https://openrouter.ai/api/v1
OPENAI_BASE_URL=
OPENAI_MODEL=gpt-4o-mini
RESUME_EXTRACTOR_VERSION=v1
CRM_SYNC_ENABLED=true
CRM_SYNC_INTERVAL_SECONDS=900
CRM_SYNC_PAGE_SIZE=200

# Discord bot (required for bot runtime)
DISCORD_BOT_TOKEN=your_bot_token_here
HEALTHCHECK_PORT=3000
DISCORD_SENDMSG_CHARACTER_LIMIT=2000
CHECK_EMAIL_WAIT=2
WORKER_API_BASE_URL=http://worker-api:8090
AUDIT_API_BASE_URL=
AUDIT_API_TIMEOUT_SECONDS=2.0
# Required for Discord bot commands that post to channels
CHANNEL_ID=1391742724666822798

# Email monitoring (required if email features are enabled)
EMAIL_USERNAME=your_email@example.com
EMAIL_PASSWORD=your_app_password
IMAP_SERVER=imap.migadu.com
SMTP_SERVER=smtp.migadu.com

# EspoCRM (required for worker integration)
ESPO_API_KEY=your_key_here
ESPO_BASE_URL=https://espo.url/

# Kimai time tracking (optional until Kimai integrations are used)
KIMAI_BASE_URL=https://kimai.example.com
KIMAI_API_TOKEN=your_kimai_api_token_here
